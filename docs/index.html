
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to the HIRES PRV Reduction Service Documentation &#8212; HIRES PRV  documentation</title>
    <link rel="stylesheet" href="_static/graphite.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Observing Instructions" href="setup.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="setup.html" title="Observing Instructions"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">HIRES PRV  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-the-hires-prv-reduction-service-documentation">
<h1>Welcome to the HIRES PRV Reduction Service Documentation<a class="headerlink" href="#welcome-to-the-hires-prv-reduction-service-documentation" title="Permalink to this headline">¶</a></h1>
<p>This is a radial velocity processing environment that can be used to transform raw spectra into
publication-ready precision radial velocities (PRVs) from <a class="reference external" href="https://www2.keck.hawaii.edu/inst/hires/">Keck/HIRES</a> spectra.</p>
<p>HIRES is now available in a dedicated precision radial velocity configuration.
Data collected in the prescribed HIRES-PRV configuration will be compatible with this radial velocity
processing environment which will produce wavelength-calibrated 1D spectra and
time-series of relative PRVs.</p>
<p>A Python API provides an easy way to interact with the service. The
source code is available <a class="reference external" href="https://github.com/Caltech-IPAC/hiresprv">here</a>.</p>
<p>Please post any questions regarding the HIRES-PRV configuration or the <a class="reference external" href="http://nexsci.caltech.edu">NExScI</a> PRV processing environment to the <a class="reference external" href="https://github.com/Caltech-IPAC/hiresprv/issues">GitHub issue tracker</a>.</p>
</div>
<div class="section" id="installation-instructions">
<h1>Installation Instructions<a class="headerlink" href="#installation-instructions" title="Permalink to this headline">¶</a></h1>
<p>We reccomend users first install <a class="reference external" href="https://www.anaconda.com/download/">Anaconda Python</a> or a similar scientific computing environemnt for Python.</p>
<p>Python 3.6 or greater is required.</p>
<p>The HIRES-PRV Python library can be installed from PyPI:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ pip install hiresprv
</pre></div>
</div>
</div>
<div class="section" id="planning-and-conducting-observations">
<h1>Planning and Conducting Observations<a class="headerlink" href="#planning-and-conducting-observations" title="Permalink to this headline">¶</a></h1>
<p>There are several important considerations for observers wishing to utilize the HIRES PRV configuration;
only data collected in the specified HIRES-PRV configuration and data collected according to the recommendations
summarized below can be processed properly within the NExScI HIRES processing environment.</p>
<ul class="simple">
<li>The echelle and cross disperser angles must be set at specific angles as part of the HIRES-PRV afternoon setup and must not be changed during the night.</li>
<li>A minimum of 3 PRV observations with the iodine cell inserted for a given target are required. The minimum signal-to-noise ratio per pixel for each of these observations must be at least 70 with the optimal SNR being 200.</li>
<li>One high SNR (at least 100 per pixel) template observation of the target with the iodine cell removed from the optical path. The optimal SNR for the iodine-out template is 2x the typical iodine-in observation. Several consecutive observations may be stacked to increase the SNR.</li>
<li>Each iodine-out template observation must be bracketed by 2-5 exposures of bright, rapidly-rotating B stars with the iodine cell in for calibration. These stars should be as near as possible on the sky to the target star.</li>
<li>Individual exposure times should be no longer than 1 hour and iodine-out template observations should span no more than 1.5 hours.</li>
<li>Observers new to the HIRES-PRV configuration should treat this configuration as a “new” instrument.</li>
</ul>
<dl class="docutils">
<dt>See link below for detailed instrument configuration and observing instructions.</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="setup.html#setup"><span class="std std-ref">Observing Instructions</span></a></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="data-reduction-tutorial">
<h1>Data Reduction Tutorial<a class="headerlink" href="#data-reduction-tutorial" title="Permalink to this headline">¶</a></h1>
<dl class="docutils">
<dt>The reduction of HIRES PRV data consists of four basic steps.</dt>
<dd><ol class="first last arabic simple">
<li>Transfer files from the <a class="reference external" href="https://www2.keck.hawaii.edu/koa/public/koa.php">Keck Observatory Archive (KOA)</a> and extract into 1D spectra.</li>
<li>Construct a template from an iodine-free observation of your target star.</li>
<li>Analyze each PRV observation collected with the iodine cell in the light path</li>
<li>Concatenate into an PRV timeseries.</li>
</ol>
</dd>
</dl>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>We’ve provided a beta-release tutorial to walk you through the reduction process for a typical dataset spanning several observing nights.</p>
<dl class="docutils">
<dt><em>WARNING: This tutorial is not part of the official v1.0 release. The code snippets presented within have not been tested. The project makes no guarantees the code within the tutorial will function exactly as presented. Use at your own risk.</em></dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="data_reduction_overview.html#data-reduction-overview"><span class="std std-ref">Data Reduction Tutorial</span></a></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="understanding-the-outputs">
<h1>Understanding the Outputs<a class="headerlink" href="#understanding-the-outputs" title="Permalink to this headline">¶</a></h1>
<p>Calibrated and extracted 1D spectra, PRV timeseries for any stars with sufficient data, and the database of your observations
can be downloaded to your local machine from your workspace on the server.</p>
<dl class="docutils">
<dt>The contents of those files are documented here:</dt>
<dd><ul class="first last simple">
<li><a class="reference internal" href="outputs.html#outputs"><span class="std std-ref">Output Data Products</span></a></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="table-of-contents">
<h1>Table of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound" id="mastertoc">
<p class="caption"><span class="caption-text">Contents:</span><a class="headerlink" href="#mastertoc" title="Permalink to this toctree">¶</a></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Observing Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="setup.html#afternoon-setup">Afternoon Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#spectrograph-alignment-and-focus">Spectrograph Alignment and Focus</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#required-calibrations">Required Calibrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#observations-of-stars">Observations of Stars</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#target-lists">Target Lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#partial-nights">Partial Nights</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#end-of-night">End of Night</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#tips-tricks-troubleshooting">Tips, Tricks, &amp; Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_reduction_overview.html">Data Reduction Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html">Output Data Products</a><ul>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#radial-velocity-timeseries">Radial Velocity Timeseries</a></li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#wavelength-solution">Wavelength Solution</a></li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#extracted-spectra">Extracted Spectra</a></li>
<li class="toctree-l2"><a class="reference internal" href="outputs.html#example-reading-spectrum">Example Reading Spectrum</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Velocity Precision</a></li>
<li class="toctree-l1"><a class="reference internal" href="hiresprv.html">Python API</a></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
<p>This documentation was last updated on Sep 25, 2018.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="#">
              <img class="logo" src="_static/hiresprv_logo.png" alt="Logo"/>
            </a></p>
<h3><a href="#">HIRES PRV</a></h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Observing Instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_reduction_overview.html">Data Reduction Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="outputs.html">Output Data Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="performance.html">Velocity Precision</a></li>
<li class="toctree-l1"><a class="reference internal" href="hiresprv.html">Python API</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="setup.html" title="Observing Instructions"
             >next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">HIRES PRV  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, CALTECH.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.6.
    </div>
  </body>
</html>